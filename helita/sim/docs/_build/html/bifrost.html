

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bifrost.py &mdash; bifrostDocs 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="bq_t5_look Tool" href="bq_t5.html" />
    <link rel="prev" title="Welcome to bifrost.py’s documentation!" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> bifrostDocs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">bifrost.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pre-requisites">Pre-requisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cloning-git-repository">Cloning git repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-root-install">Non-root install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#developer-install">Developer install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-with-different-c-or-fortran-compilers">Installing with different C or Fortran compilers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bifrostdata-class">BifrostData Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-variables-quantities">Getting Variables &amp; Quantities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bq_t5.html">bq_t5_look Tool</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bifrostDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>bifrost.py</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/bifrost.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bifrost-py">
<h1>bifrost.py<a class="headerlink" href="#bifrost-py" title="Permalink to this headline">¶</a></h1>
<p>bifrost.py is a set of tools to read and interact with output from Bifrost simulations.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>bifrost.py is part of the helita library. Helita documentation can be found here:</p>
<blockquote>
<div><a class="reference external" href="http://helita.readthedocs.io/en/latest/index.html">http://helita.readthedocs.io/en/latest/index.html</a></div></blockquote>
<p>This section is taken directly from the link above.</p>
<div class="section" id="pre-requisites">
<h3>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this headline">¶</a></h3>
<p>To make use of helita you need a Fortran compiler (GFortran is recommended), because some modules are compiled from Fortran. In addition, before attempting to install helita you need the following:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.python.org">Python (2.7.x, 3.4.x or later)</a></li>
<li><a class="reference external" href="http://www.astropy.org">Astropy</a></li>
<li><a class="reference external" href="http://www.numpy.org">NumPy</a></li>
<li><a class="reference external" href="https://www.scipy.org">SciPy</a></li>
</ul>
<p>In addition, the following packages are also recommended to take advantage of all the features:</p>
<ul class="simple">
<li><a class="reference external" href="https://matplotlib.org">Matplotlib</a></li>
<li><a class="reference external" href="http://www.h5py.org">h5py</a></li>
<li><a class="reference external" href="https://unidata.github.io/netcdf4-python/">netCDF4</a></li>
<li><a class="reference external" href="http://cython.org">Cython</a></li>
<li><a class="reference external" href="http://pandas.pydata.org">pandas</a></li>
<li><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/">beautifulsoup4</a></li>
</ul>
<p>Helita will install without the above packages, but functionality will be limited.</p>
<p>All of the above packages are available through Anaconda, and that is the recommended way of setting up your Python distribution.</p>
</div>
<div class="section" id="cloning-git-repository">
<h3>Cloning git repository<a class="headerlink" href="#cloning-git-repository" title="Permalink to this headline">¶</a></h3>
<p>The easiest way is to use git to clone the repository. To grab the latest version of helita and install it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git clone https://github.com/ITA-solar/helita.git
$ cd helita
$ python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="non-root-install">
<h3>Non-root install<a class="headerlink" href="#non-root-install" title="Permalink to this headline">¶</a></h3>
<p>If you don&#8217;t have write permission to your Python packages directory, use the following option with setup.py:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py install --user
</pre></div>
</div>
<p>This will install helita under your home directory (typically ~/.local)</p>
</div>
<div class="section" id="developer-install">
<h3>Developer install<a class="headerlink" href="#developer-install" title="Permalink to this headline">¶</a></h3>
<p>If you want to install helita but also actively change the code or contribute to its development, it is recommended that you do a developer install instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py develop
</pre></div>
</div>
<p>This will set up the package, such as the source files used, from the git repository that you cloned (only a link to it is placed on the Python packages directory). Can also be combined with the <em>-user</em> flag for local installs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py develop --user
</pre></div>
</div>
</div>
<div class="section" id="installing-with-different-c-or-fortran-compilers">
<h3>Installing with different C or Fortran compilers<a class="headerlink" href="#installing-with-different-c-or-fortran-compilers" title="Permalink to this headline">¶</a></h3>
<p>The procedure above will compile the C and Fortran modules using the default gcc/gfortran compilers. It will fail if these are not available in the system. If you want to use a different compiler, please use <em>setup.py</em> with the <em>-compiler=xxx</em> and/or <em>-fcompiler=yyy</em> options, where <em>xxx</em>, <em>yyy</em> are C and Fortran compiler families (names depend on system). To check which Fortran compilers are available in your system, you can run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py build --help-fcompiler
</pre></div>
</div>
<p>and to check which C compilers are available:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py build --help-compiler
</pre></div>
</div>
</div>
</div>
<div class="section" id="bifrostdata-class">
<h2>BifrostData Class<a class="headerlink" href="#bifrostdata-class" title="Permalink to this headline">¶</a></h2>
<p>bifrost.py includes the BifrostData class (among others). The following allows to create the class for snapshot number 430 from simulation &#8216;cb10f&#8217; from directory &#8216;/net/opal/Volumes/Amnesia/mpi3drun/Granflux&#8217;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">helita.sim</span> <span class="k">import</span> <span class="n">bifrost</span> <span class="k">as</span> <span class="n">br</span>
<span class="n">dd</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">BifrostData</span><span class="p">(</span><span class="s1">&#39;cb10f&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="mi">430</span><span class="p">,</span> <span class="n">fdir</span> <span class="o">=</span> <span class="s1">&#39;/net/opal/Volumes/Amnesia/mpi3drun/Granflux&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The snapshot(s) being read can be defined when creating the object, or set/changed anytime later. Snaps can be ints, arrays, or lists.</p>
</div>
<div class="section" id="getting-variables-quantities">
<h2>Getting Variables &amp; Quantities<a class="headerlink" href="#getting-variables-quantities" title="Permalink to this headline">¶</a></h2>
<p>get_var and get_varTime can be used to read variables as well as to calculate quantities (with a call to _get_quantity). iix, iiy, and iiz can be specified to slice the return array (they can be ints, arrays, or lists). If no snapshot is specified, the current snap value will be used (either the initialized one, which is the first in the series, or the most recent snap used in set_snap or in a call to get_var). To get variable &#8216;r&#8217; at snap 430 with only values at y = 200, z = 5, and z = 7:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">var1</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_var</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="mi">430</span><span class="p">,</span> <span class="n">iiy</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">iiz</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<p>get_varTime can be used in the same fashion, with the added option of reading a specific variable or quantity from many snapshots at once. Its return arrays have an added dimension for time.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bq_t5.html" class="btn btn-neutral float-right" title="bq_t5_look Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to bifrost.py’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Carmel Baharav.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>