

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>helita &mdash; bifrostDocs 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="bq_t5_look Tool" href="bq_t5.html" />
    <link rel="prev" title="Welcome to helita and bifrost documentation!" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> bifrostDocs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">helita</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Pre-requisites">Pre-requisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Cloning-git-repository">Cloning git repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Non-root-install">Non-root install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Developer-install">Developer install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Installing-with-different-C-or-Fortran-compilers">Installing with different C or Fortran compilers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bifrost.py">bifrost.py</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#BifrostData-class">BifrostData class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Getting-variables-&amp;-quantities">Getting variables &amp; quantities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Small-Demo">Small Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#FFTData-class">FFTData class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#1.-Using-cuda">1. Using cuda</a></li>
<li class="toctree-l4"><a class="reference internal" href="#2.-Using-python-multiprocessing">2. Using python multiprocessing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bq_t5.html">bq_t5_look Tool</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bifrostDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>helita</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/helita.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="helita">
<h1>helita<a class="headerlink" href="#helita" title="Permalink to this headline">¶</a></h1>
<p>Helita documentation can be found here (the installation section is taken from this link):</p>
<p><a class="reference external" href="http://helita.readthedocs.io/en/latest/index.html">http://helita.readthedocs.io/en/latest/index.html</a></p>
<p>Helita is a Python library for solar physics focused on interfacing with code and projects from the <a class="reference external" href="http://astro.uio.no">Institute of Theoretical Astrophysics</a> (ITA) at the <a class="reference external" href="https://www.uio.no">University of Oslo</a>. The name comes from Helios + ITA. Currently, the library is a loose collection of different scripts and classes with varying degrees of portability and usefulness.</p>
<hr class="docutils" />
<div class="section" id="Installation">
<h2>Installation<a class="headerlink" href="#Installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Pre-requisites">
<h3>Pre-requisites<a class="headerlink" href="#Pre-requisites" title="Permalink to this headline">¶</a></h3>
<p>To make use of helita <strong>you need a Fortran compiler</strong> (<a class="reference external" href="https://gcc.gnu.org/wiki/GFortran">GFortran</a> is recommended), because some modules are compiled from Fortran. The packages in the left column should be installed before installing helita. The right column contains recommended packages that allow the user to take advantage of all of the features.</p>
<table border="1" class="docutils align-center">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Required</th>
<th class="head">Recommended</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><ul class="first last simple">
<li><a class="reference external" href="https://www.python.org">Python (2.7.x, 3.4.x or later)</a></li>
<li><a class="reference external" href="http://www.astropy.org">Astropy</a></li>
<li><a class="reference external" href="http://www.numpy.org">NumPy</a></li>
<li><a class="reference external" href="https://www.scipy.org">SciPy</a></li>
</ul>
</td>
<td><ul class="first last simple">
<li><a class="reference external" href="https://matplotlib.org">Matplotlib</a></li>
<li><a class="reference external" href="http://www.h5py.org">h5py</a></li>
<li><a class="reference external" href="https://unidata.github.io/netcdf4-python/">netCDF4</a></li>
<li><a class="reference external" href="http://cython.org">Cython</a></li>
<li><a class="reference external" href="http://pandas.pydata.org">pandas</a></li>
<li><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/">beautifulsoup4</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Helita will install without the recommended packages, but functionality will be limited. All of these packages are available through Anaconda, and that is the recommended way of setting up your Python distribution.</p>
</div>
<div class="section" id="Cloning-git-repository">
<h3>Cloning git repository<a class="headerlink" href="#Cloning-git-repository" title="Permalink to this headline">¶</a></h3>
<p>The easiest way is to use git to clone the repository. To grab the latest version of helita and install it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/ITA-solar/helita.git
$ cd helita
$ python setup.py install
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The majority of the most updated versions of bifrost.py, ebysus.py, and all things bifrost related are in the <a class="reference external" href="https://github.com/jumasy/helita.git">https://github.com/jumasy/helita.git</a> fork.</p>
</div>
</div>
<div class="section" id="Non-root-install">
<h3>Non-root install<a class="headerlink" href="#Non-root-install" title="Permalink to this headline">¶</a></h3>
<p>If you don’t have write permission to your Python packages directory, use the following option with setup.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py install --user
</pre></div>
</div>
<p>This will install helita under your home directory (typically ~/.local)</p>
</div>
<div class="section" id="Developer-install">
<h3>Developer install<a class="headerlink" href="#Developer-install" title="Permalink to this headline">¶</a></h3>
<p>If you want to install helita but also actively change the code or contribute to its development, it is recommended that you do a developer install instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py develop
</pre></div>
</div>
<p>This will set up the package, such as the source files used, from the git repository that you cloned (only a link to it is placed on the Python packages directory). Can also be combined with the <em>-user</em> flag for local installs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py develop --user
</pre></div>
</div>
</div>
<div class="section" id="Installing-with-different-C-or-Fortran-compilers">
<h3>Installing with different C or Fortran compilers<a class="headerlink" href="#Installing-with-different-C-or-Fortran-compilers" title="Permalink to this headline">¶</a></h3>
<p>The procedure above will compile the C and Fortran modules using the default gcc/gfortran compilers. It will fail if these are not available in the system. If you want to use a different compiler, please use <em>setup.py</em> with the <em>-compiler=xxx</em> and/or <em>-fcompiler=yyy</em> options, where <em>xxx</em>, <em>yyy</em> are C and Fortran compiler families (names depend on system). To check which Fortran compilers are available in your system, you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py build --help-fcompiler
</pre></div>
</div>
<p>and to check which C compilers are available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py build --help-compiler
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="bifrost.py">
<h2>bifrost.py<a class="headerlink" href="#bifrost.py" title="Permalink to this headline">¶</a></h2>
<p>bifrost.py is a set of tools to read and interact with output from Bifrost simulations.</p>
<div class="section" id="BifrostData-class">
<h3>BifrostData class<a class="headerlink" href="#BifrostData-class" title="Permalink to this headline">¶</a></h3>
<p>bifrost.py includes the BifrostData class (among others). The following allows to create the class for snapshot number 430 from simulation ‘cb10f’ from directory ‘/net/opal/Volumes/Amnesia/mpi3drun/Granflux’:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">helita.sim</span> <span class="kn">import</span> <span class="n">bifrost</span> <span class="k">as</span> <span class="n">br</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dd</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">BifrostData</span><span class="p">(</span><span class="s1">&#39;cb10f&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="mi">430</span><span class="p">,</span> <span class="n">fdir</span> <span class="o">=</span> <span class="s1">&#39;/net/opal/Volumes/Amnesia/mpi3drun/Granflux&#39;</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The snapshot(s) being read can be defined when creating the object, or set/changed anytime later. Snaps can be ints, arrays, or lists.</p>
</div>
<div class="section" id="Getting-variables-&amp;-quantities">
<h3>Getting variables &amp; quantities<a class="headerlink" href="#Getting-variables-&-quantities" title="Permalink to this headline">¶</a></h3>
<p>get_var and get_varTime can be used to read variables as well as to calculate quantities (with a call to _get_quantity). iix, iiy, and iiz can be specified to slice the return array (they can be ints, arrays, or lists). If iix, iiy, or iiz is not specified, get_var will read all the numerical domain along the x, y, or z axis, respectively. If no snapshot is specified, the current snap value will be used (either the initialized one, which is the first in the series, or the most recent snap used in set_snap or in a call to get_var). To get variable ‘r’ at snap 430 with only values at y = 200, z = 5, and z = 7:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">var1</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_var</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="mi">430</span><span class="p">,</span> <span class="n">iiy</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">iiz</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
WARNING: cstagger use has been turned off, turn it back on with &#34;dd.cstagop = True&#34;
</pre></div></div>
</div>
<p>get_varTime can be used in the same fashion, with the added option of reading a specific variable or quantity from many snapshots at once. Its return arrays have an added dimension for time.</p>
<p>Several of the class’s parameters can be found in the dictionary <em>params</em>. This dictionary contains information about time (t and dt) and the axes (dx, dy, dz) among other things. When snap contains more than one snapshot, many of the parameters in the dictionary contain one entry for each snap. To get time:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">time</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>To view all available keys:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dd</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[5]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>dict_keys([&#39;mx&#39;, &#39;my&#39;, &#39;mz&#39;, &#39;mb&#39;, &#39;nstep&#39;, &#39;nstepstart&#39;, &#39;debug&#39;, &#39;periodic_x&#39;, &#39;periodic_y&#39;, &#39;periodic_z&#39;, &#39;ndim&#39;, &#39;u_l&#39;, &#39;u_t&#39;, &#39;u_r&#39;, &#39;u_p&#39;, &#39;u_u&#39;, &#39;u_kr&#39;, &#39;u_ee&#39;, &#39;u_e&#39;, &#39;u_te&#39;, &#39;u_tg&#39;, &#39;u_b&#39;, &#39;meshfile&#39;, &#39;dx&#39;, &#39;dy&#39;, &#39;dz&#39;, &#39;cdt&#39;, &#39;dt&#39;, &#39;t&#39;, &#39;timestepdebug&#39;, &#39;nu1&#39;, &#39;nu2&#39;, &#39;nu3&#39;, &#39;nu_r_xy&#39;, &#39;nu_r_xy_k&#39;, &#39;nu_r&#39;, &#39;nu_r_min&#39;, &#39;nu_r_k&#39;, &#39;nu_ee_xy&#39;, &#39;nu_ee&#39;, &#39;grav&#39;, &#39;eta3&#39;, &#39;ca_max&#39;, &#39;mhddebug&#39;, &#39;do_mhd&#39;, &#39;mhdclean&#39;, &#39;one_file&#39;, &#39;snapname&#39;, &#39;isnap&#39;, &#39;large_memory&#39;, &#39;nsnap&#39;, &#39;nscr&#39;, &#39;aux&#39;, &#39;dtsnap&#39;, &#39;newaux&#39;, &#39;dtscr&#39;, &#39;tsnap&#39;, &#39;tscr&#39;, &#39;boundarychk&#39;, &#39;max_r&#39;, &#39;smooth_r&#39;, &#39;qmax&#39;, &#39;noneq&#39;, &#39;do_hion&#39;, &#39;gamma&#39;, &#39;tabinputfile&#39;, &#39;do_rad&#39;, &#39;dtrad&#39;, &#39;quadrature&#39;, &#39;zrefine&#39;, &#39;maxiter&#39;, &#39;taustream&#39;, &#39;accuracy&#39;, &#39;strictint&#39;, &#39;linear&#39;, &#39;monotonic&#39;, &#39;minbin&#39;, &#39;maxbin&#39;, &#39;dualsweep&#39;, &#39;teff&#39;, &#39;timing&#39;, &#39;spitzer&#39;, &#39;debug_spitzer&#39;, &#39;info_spitzer&#39;, &#39;spitzer_amp&#39;, &#39;theta_mg&#39;, &#39;dtgerr&#39;, &#39;ntest_mg&#39;, &#39;tgb0&#39;, &#39;tgb1&#39;, &#39;tau_tg&#39;, &#39;fix_grad_tg&#39;, &#39;niter_mg&#39;, &#39;bmin&#39;, &#39;do_genrad&#39;, &#39;genradfile&#39;, &#39;debug_genrad&#39;, &#39;incrad_detail&#39;, &#39;incrad_quad&#39;, &#39;dtincrad&#39;, &#39;debug_incrad&#39;, &#39;bctypelower&#39;, &#39;tau_bcl&#39;, &#39;tau_ee_bcl&#39;, &#39;tau_d2_bcl&#39;, &#39;tau_d5_bcl&#39;, &#39;tau_d6_bcl&#39;, &#39;tau_d7_bcl&#39;, &#39;tau_d8_bcl&#39;, &#39;s0&#39;, &#39;e0&#39;, &#39;r0&#39;, &#39;cs0&#39;, &#39;p0&#39;, &#39;nsmooth_bcl&#39;, &#39;naver_bcl&#39;, &#39;nclean_bcl&#39;, &#39;nclean_lbl&#39;, &#39;nclean_ubl&#39;, &#39;t_bdry&#39;, &#39;rbot&#39;, &#39;ebot&#39;, &#39;bx0&#39;, &#39;by0&#39;, &#39;x0_bcu&#39;, &#39;x1_bcu&#39;, &#39;y0_bcu&#39;, &#39;y1_bcu&#39;, &#39;uz_bcu&#39;, &#39;strtb&#39;, &#39;rtb&#39;, &#39;xotb&#39;, &#39;zotb&#39;, &#39;qtb&#39;, &#39;nclean_bcu&#39;])
</pre></div>
</div>
</div>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">Variables</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Simple</th>
<td>r, px, py, pz, e, bx, by, bz, p, tg, i1, i4, qjoule, qspitz</td>
</tr>
<tr class="row-even"><th class="stub">Composite</th>
<td>ux, uy, uz, ee, s</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-text">Calculated Quantities</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Derivatives</th>
<td>dxup, dyup, dzup, dxdn, dydn, dzdn</td>
</tr>
<tr class="row-even"><th class="stub">Centers vector quantity in cells</th>
<td>xc, yc, zc</td>
</tr>
<tr class="row-odd"><th class="stub">Module of vector</th>
<td>‘mod’ + root letter of varname (eg. modb)</td>
</tr>
<tr class="row-even"><th class="stub">Divergence of vector</th>
<td>‘div’ + root letter of varname (eg. divb)</td>
</tr>
<tr class="row-odd"><th class="stub">Squared module</th>
<td>root letter of varname + ‘2’ (eg. u2)</td>
</tr>
<tr class="row-even"><th class="stub">Ratio of two vars</th>
<td>var1 + ‘rat’ + var2 (eg. rratpx)</td>
</tr>
<tr class="row-odd"><th class="stub">Eostab (unit conversion to SI)</th>
<td>ne, tg, pg, kr, eps, opa, temt</td>
</tr>
<tr class="row-even"><th class="stub">Magnitude of vector components // or ⟂</th>
<td>root letter of v1 + ‘par’ or ‘per’ + root letter of v2 (eg. uparb)</td>
</tr>
<tr class="row-odd"><th class="stub">Current</th>
<td>ix, iy, iz, wx, wy, wz</td>
</tr>
<tr class="row-even"><th class="stub">Flux</th>
<td>pfx, pfy, pfz, pfex, pfey, pfez, pfwx</td>
</tr>
<tr class="row-odd"><th class="stub">Plasma</th>
<td>beta, va, cs, s, ke, mn, man, hp, vax, vay, hx, hy, hz, kx, ky, kz</td>
</tr>
<tr class="row-even"><th class="stub">Wave forces</th>
<td>alf, fast, long</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="Small-Demo">
<h3>Small Demo<a class="headerlink" href="#Small-Demo" title="Permalink to this headline">¶</a></h3>
<p>Here, we plot dZ versus Z, illustrating the non-uniform gaps in the Z axis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">helita.sim</span> <span class="kn">import</span> <span class="n">bifrost</span> <span class="k">as</span> <span class="n">br</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">rootname</span><span class="o">=</span><span class="s1">&#39;l2d90x40r_it&#39;</span> <span class="c1">#this is for the 2D case</span>
<span class="n">fdir</span><span class="o">=</span><span class="s1">&#39;/net/opal/Volumes/Amnesia/mpi3drun/2Druns/genohm/rain/l2d90x40r&#39;</span>
<span class="n">dd</span><span class="o">=</span><span class="n">br</span><span class="o">.</span><span class="n">BifrostData</span><span class="p">(</span><span class="n">rootname</span><span class="p">,</span><span class="n">fdir</span><span class="o">=</span><span class="n">fdir</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="c1">#this loads the structure</span>
<span class="n">var</span><span class="o">=</span><span class="n">dd</span><span class="o">.</span><span class="n">get_var</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="mi">305</span><span class="p">)</span> <span class="c1">#this reads the density (r) for the instant 305</span>

<span class="c1"># gets the z coordinates of data points and makes an empty array of the same length for values of dz</span>
<span class="n">zArr</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">z</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">zArr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">dzArr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">length</span><span class="p">])</span>

<span class="c1"># iterates through zArr and sets each entry in dzArr as the difference between the next and current values of z</span>
<span class="c1"># for the final value of dzArr, sets it to be the same as the previous value of dzArr</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">zArr</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span>
        <span class="n">dzArr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">zArr</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">val</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">else</span> <span class="p">:</span>
        <span class="n">dzArr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">dzArr</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># plots z vs dz and labels the axes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">zArr</span><span class="p">,</span> <span class="n">dzArr</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;dZ&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
WARNING: cstagger use has been turned off, turn it back on with &#34;dd.cstagop = True&#34;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/helita_12_1.png" src="_images/helita_12_1.png" />
</div>
</div>
<p>In this example, we interpolate temperature data from the simulation to conform to a uniform Z axis and plot the data with both the original, and the even, Z axes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">scipy.interpolate</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="c1"># bifrost already imported and dd initialized after previous example</span>

<span class="k">def</span> <span class="nf">graphTemp</span><span class="p">(</span><span class="n">time</span><span class="p">):</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_var</span><span class="p">(</span><span class="s1">&#39;tg&#39;</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

    <span class="n">zArr</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">z</span>
    <span class="n">xArr</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">x</span>

    <span class="c1"># at instant 305 -  x is uniform, y is kept constant, and z is non uniform</span>

    <span class="c1"># converts the 3d array with width of 1 to 2d array (and transposes because otherwise image is sidewise)</span>
    <span class="n">temp2D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">temp</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">f</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">interp2d</span><span class="p">(</span><span class="n">xArr</span><span class="p">,</span> <span class="n">zArr</span><span class="p">,</span> <span class="n">temp2D</span><span class="p">)</span>

    <span class="c1"># makes a new uniform z, x is already uniform</span>
    <span class="n">zLength</span> <span class="o">=</span> <span class="n">zArr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">zStart</span> <span class="o">=</span> <span class="n">zArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">zEnd</span> <span class="o">=</span> <span class="n">zArr</span><span class="p">[</span><span class="n">zLength</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">newZ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">zStart</span><span class="p">,</span> <span class="n">zEnd</span><span class="p">,</span> <span class="n">zLength</span><span class="p">)</span>

    <span class="c1"># makes the interpolated data with the previously created interpolation function acting on the new uniform axes</span>
    <span class="n">uniA</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">xArr</span><span class="p">,</span> <span class="n">newZ</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

    <span class="c1"># optional plotting of the non uniform data to show the difference</span>
    <span class="n">ax0</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">temp2D</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;hot&#39;</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">xArr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xArr</span><span class="p">[</span><span class="n">xArr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">zEnd</span><span class="p">,</span> <span class="n">zStart</span><span class="p">),</span> <span class="n">aspect</span> <span class="o">=</span> <span class="s1">&#39;equal&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Non-Uniform, Temperature at t = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>

    <span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">uniA</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;hot&#39;</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="p">(</span><span class="n">xArr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xArr</span><span class="p">[</span><span class="n">xArr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">zEnd</span><span class="p">,</span> <span class="n">zStart</span><span class="p">),</span> <span class="n">aspect</span> <span class="o">=</span> <span class="s1">&#39;equal&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Uniform, Temperature at t = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">graphTemp</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/helita_14_0.png" src="_images/helita_14_0.png" />
</div>
</div>
</div>
<div class="section" id="FFTData-class">
<h3>FFTData class<a class="headerlink" href="#FFTData-class" title="Permalink to this headline">¶</a></h3>
<p>This class can be found within bifrost_fft.py. It performs operations on Bifrost simulation data in its native format. After creating a class for a specific snap root name and directory (much like with BifrostData), one can get a dictionary of the frequency and amplitude of the Fourier Transform for a certain quantity over a range of snapshots.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">helita.sim</span> <span class="kn">import</span> <span class="n">bifrost_fft</span> <span class="k">as</span> <span class="n">brft</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dd</span> <span class="o">=</span> <span class="n">brft</span><span class="o">.</span><span class="n">FFTData</span><span class="p">(</span><span class="n">file_root</span> <span class="o">=</span> <span class="s1">&#39;cb10f&#39;</span><span class="p">,</span> <span class="n">fdir</span> <span class="o">=</span> <span class="s1">&#39;/net/opal/Volumes/Amnesia/mpi3drun/Granflux&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">transformed</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_fft</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="p">[</span><span class="mi">430</span><span class="p">,</span> <span class="mi">431</span><span class="p">,</span> <span class="mi">432</span><span class="p">],</span> <span class="n">iiy</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
WARNING: cstagger use has been turned off, turn it back on with &#34;dd.cstagop = True&#34;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">transformed</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[11]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>dict_keys([&#39;freq&#39;, &#39;ftCube&#39;])
</pre></div>
</div>
</div>
<p>Depending on the number of snaps and the size of the cube, using cuda or python multiprocessing may speed up the calculation.</p>
<div class="section" id="1.-Using-cuda">
<h4>1. Using cuda<a class="headerlink" href="#1.-Using-cuda" title="Permalink to this headline">¶</a></h4>
<p>If pycuda is available, the code imports reikna (a python library that contains fft functions using pycuda). In order to make use of the GPU, use the function run_gpu(). The default is to <strong>not</strong> use the GPU, even if there is one available.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dd</span><span class="o">.</span><span class="n">run_gpu</span><span class="p">()</span> <span class="c1"># to use GPU</span>
<span class="n">dd</span><span class="o">.</span><span class="n">run_gpu</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> <span class="c1"># to stop use of GPU</span>
</pre></div>
</div>
</div>
<p>When get_fft() is called, the GPU will be used in accordance with the last call to run_gpu(). If the GPU has limited memory, the user can specify numBlocks in the call to get_fft(). This will send the calculation over to the GPU in several blocks as opposed to all at once. To use 5 different blocks, a call would look like this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">usingBlocks</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_fft</span><span class="p">(</span><span class="s1">&#39;bx&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">402</span><span class="p">],</span> <span class="n">numBlocks</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2.-Using-python-multiprocessing">
<h4>2. Using python multiprocessing<a class="headerlink" href="#2.-Using-python-multiprocessing" title="Permalink to this headline">¶</a></h4>
<p>This can be used whether or not pycuda is available, as multiprocessing is a library that comes with python. It makes use of threading on the CPU. In order to use a multiprocessing threadpool when calculating the Fourier Transform, specify numThreads with a number greater than 1, when calling get_fft():</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">usingThreads</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">get_fft</span><span class="p">(</span><span class="s1">&#39;bx&#39;</span><span class="p">,</span> <span class="n">snap</span> <span class="o">=</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">402</span><span class="p">],</span> <span class="n">numThreads</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bq_t5.html" class="btn btn-neutral float-right" title="bq_t5_look Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to helita and bifrost documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Carmel Baharav.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>